---
title: "Struktura danych"
author: "Krzysztof Słomczyński"
date: "December 18, 2016"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, eval = FALSE)
```

## 1 - w pliku *.R

```{r}
shinydashboard::menuItem(
  text = lang$sidebar$about$item,
  tabName = "info",
  icon = icon("info"),
  shinydashboard::menuSubItem(
    text = lang$sidebar$about$subitem$goal,
    tabName = "cel",
    icon = icon("trophy")
  ),
  shinydashboard::menuSubItem(
    text = lang$sidebar$about$subitem$authors,
    tabName = "ludzie",
    icon = icon("users")
  ),
  shinydashboard::menuSubItem(
    text = lang$sidebar$about$subitem$data,
    tabName = "dane",
    icon = icon("database"))
  ), 
shinydashboard::menuItem(
  text = lang$sidebar$rooms,
  tabName = "pokoje",
  icon = icon("graduation-cap"),
  badgeLabel = "new",
  badgeColor = "yellow"
), 
shinydashboard::menuItem(
  text = lang$sidebar$apartments,
  tabName = "mieszkania",
  icon = icon("hotel"),
  badgeLabel = "TODO",
  badgeColor = "green"
),
  shinydashboard::menuItem(
  text = lang$sidebar$analysis,
  tabName = "analizy",
  icon = icon("area-chart"),
  badgeLabel = "prototype",
  badgeColor = "maroon"
)
```

Zalety:

  - atrybuty każdego elementu znajdują sie w jednym miejscu
  - łatwo dodać kolejny lub usunąć istniejący

Wady:

  - wydłuża znacznie kod programu
  - trzeba za każdym razem używać funkcji shinydashboard::menuItem()
  - trzeba szukać w gąszczu konkretnej pozycji

## 2 - w data frame z której tworzone jest menu

```{r}
itemData <- data_frame(
    text = c(
      lang$sidebar$about$item,
      lang$sidebar$rooms,
      lang$sidebar$apartments,
      lang$sidebar$analysis
    ),
    icon = c(
      "info",
      "graduation-cap",
      "hotel",
      "area-chart"
    ),
    badgeLabel = c(
      NA,
      "new",
      "TO DO",
      "prototype"
    ),
    badgeColor = c(
      "green",
      "yellow",
      "green",
      "maroon"
    ),
    tabName = c(
      "info",
      "pokoje",
      "mieszkania",
      "analizy"
    ),
    href = c(
      NA %>% rep(4)
    ),
    subItem = c(
      TRUE,
      FALSE %>% rep(3)
    )
  )
```

Zalety:

 - nie trzeba za każdym razem używać funkcji shinydashboard::menuItem() itp.
 - nie trzeba za każdym razem pisać nazwy atrybutu, wartości znajdują się w odpowiedniej już kolumnie

Wady:

 - mniej czytelna struktura, chcąc usunąć konkretną pozycję trzeba sobie policzyć jej odległość od góry/dołu
 - trzeba wpisywać wszystkie atrybuty, nawet te z których się nie korzysta
 - data frame nie przetrzymuje NULL, więc trzeba używać NA, a później podmieniać przy towrzeniu listy

## 3 - w plikach *.json

```{r}
shinydashboard::menuItem(
  text = NULL
  tabName = NULL
  icon = NULL
  badgeLabel = NULL
  badgeColor = NULL
)
```

Zalety:

 - trzymane osobno w folderze pliki *.json pozwalają szybko spojrzeć na odizolowany kod
 - nie trzeba za każdym razem pisać nazwy atrybutu, będzie istniała templatka do powielania, wypełnia się tylko pozycje
 - atrybuty konkretnego obiektu znajdują się obok siebie
 - zwiększa przejrzystość programu

Wady:

 - parsowanie plików *.json wydłuży czas pracy aplikacji (prawdopodobnie nieznacznie)
 - trzeba wpisywać wszystkie atrybuty, nawet te z których się nie korzysta
 - data frame nie przetrzymuje NULL, więc trzeba używać NA a później, podmieniać przy towrzeniu listy